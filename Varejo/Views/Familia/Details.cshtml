@model Varejo.ViewModels.FamiliaViewModel

@{
    ViewData["Title"] = "Detalhes da Família";
}

<div class="container mt-4">
    <div class="card shadow-sm border-0">
        <div class="card-header bg-info text-white">
            <h5 class="mb-0">@ViewData["Title"]</h5>
        </div>
        <div class="card-body">

            <dl class="row">
                <dt class="col-sm-3">ID</dt>
                <dd class="col-sm-9">@Model.IdFamilia</dd>

                <dt class="col-sm-3">Nome da Família</dt>
                <dd class="col-sm-9">@Model.NomeFamilia</dd>

                <dt class="col-sm-3">Marca</dt>
                <dd class="col-sm-9">@(!string.IsNullOrEmpty(Model.Marca?.NomeMarca) ? Model.Marca.NomeMarca : "N/A")</dd>

                <dt class="col-sm-3">Categoria</dt>
                <dd class="col-sm-9">@(!string.IsNullOrEmpty(Model.Categoria?.DescricaoCategoria) ? Model.Categoria.DescricaoCategoria : "N/A")</dd>

                <dt class="col-sm-3">Ativo</dt>
                <dd class="col-sm-9">@((Model.Ativo) ? "✅" : "❌")</dd>
            </dl>

            <hr />

            <h5>Produtos da Família</h5>
            @if (Model.FamiliaDetails != null && Model.FamiliaDetails.Any())
            {
                <div class="row g-3">
                    @foreach (var produto in Model.FamiliaDetails)
                    {
                        <div class="col-md-3">
                            <div class="card h-100">
                                <img src="@produto.UrlImagem" class="card-img-top" alt="@(!string.IsNullOrEmpty(produto.NomeProduto) ? produto.NomeProduto : "Produto")" />
                                <div class="card-body">
                                    <h6 class="card-title">@produto.NomeProduto</h6>
                                    <p class="card-text">Ativo: @(produto.Ativo ? "✅" : "❌")</p>
                                </div>
                            </div>
                        </div>
                    }
                </div>
            }
            else
            {
                <p>Nenhum produto cadastrado nesta família.</p>
            }

            <div class="mt-3 d-flex gap-2">
                <a asp-action="Index" class="btn btn-outline-secondary">
                    <i class="bi bi-arrow-left"></i> Voltar
                </a>
                <a asp-action="Edit" asp-route-id="@Model.IdFamilia" class="btn btn-warning">
                    <i class="bi bi-pencil-square"></i> Editar Família
                </a>
                <a asp-controller="Produto" asp-action="Create" asp-route-familiaId="@Model.IdFamilia" class="btn btn-success">
                    <i class="bi bi-plus-circle"></i> Adicionar Produto
                </a>
            </div>
        </div>
    </div>
</div>
